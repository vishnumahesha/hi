import type { BodyAnalysisResponse } from '@/types/body-analysis';

// HONEST mock data for body analysis - realistic variance
export const mockBodyFreeResponse: BodyAnalysisResponse = {
  tier: {
    isPremium: false,
    depth: 'free',
  },
  inputs: {
    gender: 'male',
    sideProvided: false,
  },
  photoQuality: {
    score: 72,
    issues: ['side_missing', 'baggy_clothes'],
  },
  overall: {
    currentScore10: 5.2,
    potentialScore10: 6.8,
    confidence: 'medium',
    summary: 'You have a solid foundation with decent shoulder width. Main opportunities are improving body composition for better definition, addressing forward shoulder posture, and building the delts/lats for a more pronounced V-taper.',
    calibrationNote: 'Scores use realistic distribution where 5.5 is average. A 6.8 potential is achievable in 12-16 weeks with consistent training and nutrition.',
  },
  potential: {
    totalPossibleGain: 1.6,
    deltas: [
      {
        lever: 'Body composition',
        currentIssue: 'Higher body fat obscuring muscle definition',
        delta: 0.6,
        potentialGain: 'Visible abs, clearer muscle separation',
        timeline: '8-12 weeks',
        difficulty: 'moderate',
        steps: ['Caloric deficit of 300-500 cal/day', 'Protein at 0.8-1g per lb bodyweight', '150+ min cardio per week'],
      },
      {
        lever: 'Build delts & lats',
        currentIssue: 'Shoulders and back underdeveloped relative to potential',
        delta: 0.5,
        potentialGain: 'Improved V-taper appearance',
        timeline: '8-12 weeks',
        difficulty: 'moderate',
        steps: ['Lateral raises 3x/week', 'Pull-ups or lat pulldowns 2x/week', 'Rear delt work each session'],
      },
      {
        lever: 'Posture correction',
        currentIssue: 'Forward shoulder position reducing frame appearance',
        delta: 0.3,
        potentialGain: 'Broader-looking shoulders, better photos',
        timeline: '4-8 weeks',
        difficulty: 'easy',
        steps: ['Face pulls 3x/week', 'Chest stretches daily', 'Posture awareness drills'],
      },
      {
        lever: 'Core training',
        currentIssue: 'Weak core affecting posture and midsection',
        delta: 0.2,
        potentialGain: 'Tighter midsection appearance',
        timeline: '6-8 weeks',
        difficulty: 'easy',
        steps: ['Planks and dead bugs 3x/week', 'Breathing exercises', 'Avoid excessive oblique work'],
      },
    ],
    top3Levers: [
      { lever: 'Body composition', title: 'Improve Body Composition', delta: 0.6, timeline: '8-12 weeks', priority: 1, impact: 'high' },
      { lever: 'Build delts & lats', title: 'Build Delts & Lats', delta: 0.5, timeline: '8-12 weeks', priority: 2, impact: 'high' },
      { lever: 'Posture correction', title: 'Fix Posture', delta: 0.3, timeline: '4-8 weeks', priority: 3, impact: 'medium' },
    ],
    timelineToFullPotential: '12-16 weeks with consistent training and nutrition',
  },
  topLevers: [
    { title: 'Build delts + lats', why: 'Improves V-taper appearance', impact: 'high', timeline: '8-12 weeks', lever: 'v_taper', delta: 0.5 },
    { title: 'Reduce body fat', why: 'Shows muscle definition you already have', impact: 'high', timeline: '8-12 weeks', lever: 'leanness', delta: 0.6 },
    { title: 'Fix forward shoulders', why: 'Makes frame look broader instantly', impact: 'medium', timeline: '4-8 weeks', lever: 'posture', delta: 0.3 },
  ],
  features: [
    {
      key: 'leanness',
      label: 'Leanness / Body Fat',
      rating10: 4.8,
      confidence: 'medium',
      evidence: 'Body fat appears to be in the 18-22% range. Some softness around midsection obscuring definition.',
      strengths: ['No excessive visceral fat visible', 'Relatively even fat distribution'],
      limitations: ['Midsection definition hidden', 'Muscle separation not visible'],
      fixes: [
        {
          title: 'Caloric deficit protocol',
          type: 'nutrition',
          difficulty: 'moderate',
          timeToSeeChange: '4-8 weeks for visible changes',
          steps: ['Track calories for 1 week to find baseline', 'Create 300-500 cal deficit', 'Prioritize protein (0.8-1g/lb)', 'Maintain deficit consistently'],
        },
        {
          title: 'Add steady-state cardio',
          type: 'workout',
          difficulty: 'easy',
          timeToSeeChange: '2-4 weeks',
          steps: ['150 min/week moderate cardio', 'Walking, cycling, or incline treadmill', 'Keep it sustainable'],
        },
      ],
    },
    {
      key: 'v_taper',
      label: 'V-Taper (Shoulder:Waist)',
      rating10: 5.4,
      confidence: 'medium',
      evidence: 'Shoulders are decent but delts and lats could be more developed. Waist is average width.',
      strengths: ['Frame structure is there', 'Shoulders not narrow'],
      limitations: ['Delts underdeveloped', 'Lats not creating width', 'Waist could be tighter'],
      fixes: [
        {
          title: 'Shoulder specialization',
          type: 'workout',
          difficulty: 'moderate',
          timeToSeeChange: '6-10 weeks',
          steps: ['Lateral raises 3x/week (15-20 reps)', 'Overhead press 2x/week', 'Rear delts every upper body day', 'Focus on mind-muscle connection'],
        },
        {
          title: 'Lat width work',
          type: 'workout',
          difficulty: 'moderate',
          timeToSeeChange: '8-12 weeks',
          steps: ['Wide-grip pull-ups or pulldowns', 'Straight-arm pulldowns', 'Focus on stretch at bottom'],
        },
      ],
    },
    {
      key: 'posture',
      label: 'Posture',
      rating10: 5.0,
      confidence: 'low',
      evidence: 'Forward shoulder position visible. Without side photo, cannot fully assess head position or pelvic tilt.',
      strengths: ['No severe kyphosis visible', 'Standing relatively upright'],
      limitations: ['Rounded shoulders', 'Possibly forward head (need side view)', 'Reducing apparent frame width'],
      why: ['Side photo needed for accurate posture assessment'],
      fixes: [
        {
          title: 'Posture correction routine',
          type: 'posture',
          difficulty: 'easy',
          timeToSeeChange: '4-6 weeks',
          steps: ['Face pulls 3x15 daily', 'Chest doorway stretches 2x30sec', 'Chin tucks 3x10 daily', 'Wall slides 2x10'],
        },
      ],
    },
    {
      key: 'upper_body_balance',
      label: 'Upper Body Balance',
      rating10: 5.3,
      confidence: 'medium',
      evidence: 'Chest appears slightly more developed than back. Shoulders lagging behind both.',
      strengths: ['Decent chest development', 'No major imbalances'],
      limitations: ['Back thickness could improve', 'Shoulders need more work', 'Front/rear delt imbalance likely'],
      fixes: [
        {
          title: 'Back prioritization',
          type: 'workout',
          difficulty: 'moderate',
          timeToSeeChange: '8-12 weeks',
          steps: ['Start workouts with back', 'Add an extra back day', 'Focus on rows for thickness', 'Pull-ups for width'],
        },
      ],
    },
    {
      key: 'lower_body_balance',
      label: 'Lower Body Balance',
      rating10: 5.5,
      confidence: 'low',
      evidence: 'Limited visibility due to clothing. Lower body appears proportionate from what is visible.',
      strengths: ['No obvious imbalances visible'],
      limitations: ['Assessment limited by photo quality', 'Cannot evaluate hamstring/glute development'],
      why: ['Form-fitting clothes would improve assessment'],
    },
    {
      key: 'core_presentation',
      label: 'Core Presentation',
      rating10: 4.5,
      confidence: 'medium',
      evidence: 'Midsection shows some softness. Core muscles not visible. Waist appears average.',
      strengths: ['No distended belly', 'Waist not excessively wide'],
      limitations: ['No ab definition visible', 'Some lower belly fullness', 'Core strength likely lacking'],
      fixes: [
        {
          title: 'Core strengthening',
          type: 'workout',
          difficulty: 'easy',
          timeToSeeChange: '4-6 weeks',
          steps: ['Planks 3x30-60sec', 'Dead bugs 3x10 each side', 'Pallof press 3x10', 'Avoid heavy oblique work'],
        },
      ],
    },
  ],
  measurements: {
    shoulderToWaistRatio: {
      value: 1.35,
      confidence: 'low',
      note: 'Estimated from photo - actual ratio may vary. Ideal is 1.5-1.6 for males.',
    },
    posture: {
      forwardHead: {
        value: 15,
        confidence: 'low',
        note: 'Cannot accurately assess without side profile photo',
      },
      roundedShoulders: {
        value: 20,
        confidence: 'medium',
        note: 'Visible forward shoulder position of approximately 20 degrees',
      },
    },
  },
  poseOverlay: {
    normalized: true,
    keyLines: [
      { name: 'shoulder_line', a: { x: 0.25, y: 0.22 }, b: { x: 0.75, y: 0.22 } },
      { name: 'waist_line', a: { x: 0.35, y: 0.52 }, b: { x: 0.65, y: 0.52 } },
    ],
    renderHint: 'free_keylines_only',
  },
  planHooks: {
    workoutFocus: ['delts', 'lats', 'upper_chest', 'posture'],
    nutritionFocus: ['protein', 'calorie_deficit', 'consistency'],
  },
  safety: {
    disclaimer: 'Estimates vary with lighting, angle, and clothing. This is guidance, not medical advice. Consult a professional before starting any exercise program.',
    tone: 'neutral',
  },
};

export const mockBodyPremiumResponse: BodyAnalysisResponse = {
  tier: {
    isPremium: true,
    depth: 'premium',
  },
  inputs: {
    gender: 'male',
    sideProvided: true,
    height: '5\'10"',
    weight: '175 lbs',
    gymAccess: 'yes',
    goal: 'recomp',
  },
  photoQuality: {
    score: 85,
    issues: [],
  },
  overall: {
    currentScore10: 5.4,
    potentialScore10: 7.2,
    confidence: 'high',
    summary: 'Good foundational structure with room for significant improvement. Your frame supports good V-taper potential. Primary focus areas: reduce body fat to reveal existing muscle, build shoulder/back width, and correct forward posture. With consistent effort, top 20-25% physique is achievable.',
    calibrationNote: '5.4 current = slightly below average. 7.2 potential = above average (top 25%). These scores use honest calibration where most people fall between 4.5-6.5.',
  },
  potential: {
    totalPossibleGain: 1.8,
    deltas: [
      {
        lever: 'Body composition',
        currentIssue: 'Estimated 18-20% body fat hiding muscle definition',
        delta: 0.7,
        potentialGain: 'Visible abs at 12-14%, clear muscle separation',
        timeline: '10-14 weeks',
        difficulty: 'moderate',
        steps: [
          'Calculate TDEE and create 400-500 cal deficit',
          'Protein minimum 1g per lb bodyweight',
          'Strength training 4x/week to preserve muscle',
          '10,000+ steps daily + 2 cardio sessions',
          'Track progress with weekly photos and measurements',
        ],
      },
      {
        lever: 'Shoulder development',
        currentIssue: 'Delts underdeveloped creating narrow appearance',
        delta: 0.5,
        potentialGain: 'Capped delts, broader frame appearance',
        timeline: '10-14 weeks',
        difficulty: 'moderate',
        steps: [
          'Lateral raises 4x15-20, 3x per week',
          'Overhead press 3x8-12, 2x per week',
          'Rear delt flyes every upper body session',
          'Face pulls for posture and rear delt',
          'Progressive overload tracking',
        ],
      },
      {
        lever: 'Back width',
        currentIssue: 'Lats not creating V-taper from behind',
        delta: 0.3,
        potentialGain: 'Wider back, better V-taper',
        timeline: '10-14 weeks',
        difficulty: 'moderate',
        steps: [
          'Pull-ups/lat pulldowns 4x8-12',
          'Focus on full stretch at bottom',
          'Straight-arm pulldowns for isolation',
          'Mind-muscle connection work',
        ],
      },
      {
        lever: 'Posture correction',
        currentIssue: 'Forward head and rounded shoulders visible in side view',
        delta: 0.2,
        potentialGain: 'Instantly taller and broader looking',
        timeline: '6-8 weeks',
        difficulty: 'easy',
        steps: [
          'Chin tucks 3x15, 3x daily',
          'Face pulls before every workout',
          'Chest stretches 2x30sec daily',
          'Ergonomic workstation setup',
        ],
      },
      {
        lever: 'Core strength',
        currentIssue: 'Weak core contributing to posture issues',
        delta: 0.1,
        potentialGain: 'Tighter midsection, better lifts',
        timeline: '6-8 weeks',
        difficulty: 'easy',
        steps: [
          'Planks and variations 3x/week',
          'Dead bugs for core stability',
          'Breathing and bracing practice',
        ],
      },
    ],
    top3Levers: [
      { lever: 'Body composition', title: 'Cut Body Fat', delta: 0.7, timeline: '10-14 weeks', priority: 1, impact: 'high', why: 'Reveals muscle you already have' },
      { lever: 'Shoulder development', title: 'Build Shoulders', delta: 0.5, timeline: '10-14 weeks', priority: 2, impact: 'high', why: 'Creates broader frame appearance' },
      { lever: 'Back width', title: 'Develop Lats', delta: 0.3, timeline: '10-14 weeks', priority: 3, impact: 'medium', why: 'Completes the V-taper look' },
    ],
    timelineToFullPotential: '14-18 weeks with consistent training and nutrition adherence',
  },
  topLevers: [
    { title: 'Cut to 12-14% body fat', why: 'Reveals existing muscle definition', impact: 'high', timeline: '10-14 weeks', lever: 'leanness', delta: 0.7 },
    { title: 'Prioritize shoulder training', why: 'Creates broader frame appearance', impact: 'high', timeline: '10-14 weeks', lever: 'v_taper', delta: 0.5 },
    { title: 'Fix forward head/shoulders', why: 'Instantly improves appearance', impact: 'medium', timeline: '6-8 weeks', lever: 'posture', delta: 0.2 },
  ],
  features: [
    {
      key: 'leanness',
      label: 'Leanness / Body Fat',
      rating10: 4.6,
      confidence: 'high',
      evidence: 'Estimated 18-20% body fat based on visible subcutaneous fat, lack of ab definition, and slight love handles. No visible muscle striations.',
      strengths: ['No excessive visceral fat', 'Even distribution', 'Good base to cut from'],
      limitations: ['Abs not visible', 'Muscle separation hidden', 'Some love handle fat', 'Face slightly soft'],
      fixes: [
        {
          title: 'Structured cut protocol',
          type: 'nutrition',
          difficulty: 'moderate',
          timeToSeeChange: '4-6 weeks for first visible changes',
          steps: [
            'Calculate TDEE (use online calculator)',
            'Set deficit at 400-500 calories',
            'Track everything in MyFitnessPal',
            'Weigh daily, use weekly averages',
            'Adjust every 2-3 weeks based on progress',
          ],
        },
        {
          title: 'Cardio protocol',
          type: 'workout',
          difficulty: 'easy',
          timeToSeeChange: '2-4 weeks',
          steps: [
            '10,000 steps daily (non-negotiable)',
            '2x LISS sessions (30-45 min)',
            '1x HIIT optional (15-20 min)',
            'Prioritize NEAT throughout day',
          ],
        },
        {
          title: 'Muscle preservation',
          type: 'workout',
          difficulty: 'moderate',
          timeToSeeChange: 'Ongoing',
          steps: [
            'Keep lifting heavy (don\'t reduce weight)',
            'Protein at 1g per lb minimum',
            'Don\'t cut calories from protein',
            'Sleep 7-9 hours for recovery',
          ],
        },
      ],
    },
    {
      key: 'v_taper',
      label: 'V-Taper (Shoulder:Waist)',
      rating10: 5.6,
      confidence: 'high',
      evidence: 'Shoulder-to-waist ratio approximately 1.38. Clavicles are decent width. Delts underdeveloped. Waist at 34 inches could be tighter.',
      strengths: ['Good clavicle width (genetic)', 'Frame supports V-taper', 'Room for delt growth'],
      limitations: ['Lateral delts small', 'Lats not visible from front', 'Waist wider than optimal', 'Ratio below 1.5 target'],
      fixes: [
        {
          title: 'Delt specialization program',
          type: 'workout',
          difficulty: 'moderate',
          timeToSeeChange: '8-12 weeks',
          steps: [
            'Lateral raises: 4x15-20, 3x per week',
            'Cable laterals: 3x12-15 each arm',
            'Overhead press: 3x8-12, 2x per week',
            'Upright rows (if no shoulder issues): 3x12',
            'Progress weight when hitting top of rep range',
          ],
        },
        {
          title: 'Lat width focus',
          type: 'workout',
          difficulty: 'moderate',
          timeToSeeChange: '10-14 weeks',
          steps: [
            'Wide grip pull-ups: 4xAMRAP',
            'Lat pulldowns (wide): 4x10-12',
            'Straight arm pulldowns: 3x15',
            'Full stretch at bottom of each rep',
            'Squeeze at contraction',
          ],
        },
      ],
    },
    {
      key: 'posture',
      label: 'Posture',
      rating10: 4.8,
      confidence: 'high',
      evidence: 'Side view shows approximately 15-20 degree forward head position. Shoulders rounded forward ~25 degrees. Slight anterior pelvic tilt visible.',
      strengths: ['No severe scoliosis', 'Correctable with effort', 'Not affecting daily function'],
      limitations: ['Forward head position', 'Rounded shoulders', 'Slight APT', 'Makes frame appear smaller', 'May cause future issues'],
      fixes: [
        {
          title: 'Daily posture routine',
          type: 'posture',
          difficulty: 'easy',
          timeToSeeChange: '4-6 weeks',
          steps: [
            'Chin tucks: 3x15, morning/noon/night',
            'Wall angels: 2x10 daily',
            'Chest doorway stretch: 2x30sec each side',
            'Hip flexor stretch: 2x30sec each side',
            'Set phone reminders',
          ],
        },
        {
          title: 'Gym posture work',
          type: 'workout',
          difficulty: 'easy',
          timeToSeeChange: '6-8 weeks',
          steps: [
            'Face pulls: 4x15 every workout',
            'Rear delt flyes: 3x15',
            'Rows with pause at contraction',
            'Glute bridges for APT: 3x15',
          ],
        },
        {
          title: 'Workstation setup',
          type: 'routine',
          difficulty: 'easy',
          timeToSeeChange: '2-4 weeks',
          steps: [
            'Monitor at eye level',
            'Chair supporting lumbar',
            'Feet flat on floor',
            'Take breaks every 30-45 min',
          ],
        },
      ],
    },
    {
      key: 'upper_body_balance',
      label: 'Upper Body Balance',
      rating10: 5.5,
      confidence: 'high',
      evidence: 'Chest appears slightly more developed than back. Shoulders lagging. Front delts likely overdeveloped vs rear delts. Arms proportionate.',
      strengths: ['Decent chest development', 'Arms proportionate to body', 'Good starting point'],
      limitations: ['Chest/back imbalance', 'Shoulders underdeveloped', 'Likely front/rear delt imbalance', 'Back thickness needed'],
      fixes: [
        {
          title: 'Back prioritization phase',
          type: 'workout',
          difficulty: 'moderate',
          timeToSeeChange: '8-12 weeks',
          steps: [
            'Start every upper workout with back',
            'Add extra back day (push/pull/legs/back)',
            'Rows for thickness: 4x8-12',
            'Pull-ups for width: 4xAMRAP',
            'Rear delts every session',
            'Reduce chest volume by 1-2 sets',
          ],
        },
      ],
    },
    {
      key: 'lower_body_balance',
      label: 'Lower Body Balance',
      rating10: 5.8,
      confidence: 'medium',
      evidence: 'Quads appear reasonably developed. Hamstrings and glutes harder to assess. Overall lower body proportionate to upper.',
      strengths: ['Good quad development', 'Proportionate to upper body', 'No obvious imbalances'],
      limitations: ['Hamstrings likely underdeveloped', 'Glutes could be stronger', 'Can\'t fully assess from photos'],
      fixes: [
        {
          title: 'Posterior chain focus',
          type: 'workout',
          difficulty: 'moderate',
          timeToSeeChange: '8-12 weeks',
          steps: [
            'Romanian deadlifts: 3x10-12',
            'Hip thrusts: 3x12-15',
            'Leg curls: 3x12-15',
            'Glute bridges: 3x15 (activation)',
          ],
        },
      ],
    },
    {
      key: 'core_presentation',
      label: 'Core Presentation',
      rating10: 4.3,
      confidence: 'medium',
      evidence: 'Midsection shows subcutaneous fat covering abs. No visible rectus abdominis. Slight lower belly protrusion. Obliques not defined.',
      strengths: ['No distended belly', 'Waist not excessively wide', 'Will improve with fat loss'],
      limitations: ['Abs completely hidden', 'Lower belly fat', 'Core likely weak', 'No V-line visible'],
      fixes: [
        {
          title: 'Core development routine',
          type: 'workout',
          difficulty: 'easy',
          timeToSeeChange: '6-8 weeks',
          steps: [
            'Planks: 3x30-60sec, 3x/week',
            'Dead bugs: 3x10 each side',
            'Pallof press: 3x10 each side',
            'Hanging leg raises: 3x10 (when strong enough)',
            'AVOID heavy oblique work (widens waist)',
          ],
        },
        {
          title: 'Vacuum practice',
          type: 'posture',
          difficulty: 'easy',
          timeToSeeChange: '4-6 weeks',
          steps: [
            'Stomach vacuums: 3x15sec, daily',
            'Do on empty stomach',
            'Progress to 30sec holds',
            'Helps tighten waistline',
          ],
        },
      ],
    },
  ],
  measurements: {
    shoulderToWaistRatio: {
      value: 1.38,
      confidence: 'medium',
      note: 'Shoulders ~47 inches, waist ~34 inches. Target 1.5+ for ideal V-taper.',
    },
    posture: {
      forwardHead: {
        value: 18,
        confidence: 'high',
        note: 'Approximately 18 degrees forward head position. Ideal is 0-5 degrees.',
      },
      roundedShoulders: {
        value: 25,
        confidence: 'high',
        note: 'Shoulders rolled forward approximately 25 degrees. Correctable with exercise.',
      },
      anteriorPelvicTilt: {
        value: 12,
        confidence: 'medium',
        note: 'Slight anterior pelvic tilt of ~12 degrees. Normal is under 10.',
      },
    },
    symmetry: {
      shoulderHeight: 'Left shoulder approximately 0.5 inches higher - common and minor',
      hipAlignment: 'Hips appear level',
    },
  },
  poseOverlay: {
    normalized: true,
    keypoints: [
      { name: 'left_shoulder', x: 0.25, y: 0.22 },
      { name: 'right_shoulder', x: 0.75, y: 0.23 },
      { name: 'left_hip', x: 0.35, y: 0.52 },
      { name: 'right_hip', x: 0.65, y: 0.52 },
      { name: 'left_knee', x: 0.32, y: 0.75 },
      { name: 'right_knee', x: 0.68, y: 0.75 },
    ],
    keyLines: [
      { name: 'shoulder_line', a: { x: 0.25, y: 0.22 }, b: { x: 0.75, y: 0.23 } },
      { name: 'waist_line', a: { x: 0.35, y: 0.52 }, b: { x: 0.65, y: 0.52 } },
      { name: 'spine', a: { x: 0.5, y: 0.15 }, b: { x: 0.5, y: 0.55 } },
    ],
    renderHint: 'full_overlay',
  },
  planHooks: {
    workoutFocus: ['lateral_delts', 'lats', 'rear_delts', 'posture_correction', 'core'],
    nutritionFocus: ['caloric_deficit', 'high_protein', 'meal_timing', 'hydration'],
  },
  safety: {
    disclaimer: 'Estimates based on photos and provided measurements. Results vary with genetics, consistency, and adherence. Not medical advice - consult a professional before starting any exercise program.',
    tone: 'constructive',
  },
};

export function getMockBodyResponse(isPremium: boolean): BodyAnalysisResponse {
  return isPremium ? mockBodyPremiumResponse : mockBodyFreeResponse;
}
